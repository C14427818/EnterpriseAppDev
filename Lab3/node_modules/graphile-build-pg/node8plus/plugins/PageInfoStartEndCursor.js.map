{"version":3,"sources":["../../src/plugins/PageInfoStartEndCursor.js"],"names":["PageInfoStartEndCursor","builder","hook","fields","extend","getTypeByName","Self","fieldWithHooks","name","Cursor","startCursor","addDataGenerator","usesCursor","description","type","isPageInfoStartCursorField","endCursor"],"mappings":";;;;;;kBAGgB,SAASA,sBAAT,CAAgCC,OAAhC,EAAyC;AACvDA,UAAQC,IAAR,CACE,0BADF,EAEE,CAACC,MAAD,EAAS,EAAEC,MAAF,EAAUC,aAAV,EAAT,EAAoC,EAAEC,IAAF,EAAQC,cAAR,EAApC,KAAiE;AAC/D,QAAID,KAAKE,IAAL,KAAc,UAAlB,EAA8B;AAC5B,aAAOL,MAAP;AACD;AACD,UAAMM,SAASJ,cAAc,QAAd,CAAf;AACA,WAAOD,OACLD,MADK,EAEL;AACEO,mBAAaH,eACX,aADW,EAEX,CAAC,EAAEI,gBAAF,EAAD,KAA0B;AACxBA,yBAAiB,OAAO,EAAEC,YAAY,CAAC,IAAD,CAAd,EAAP,CAAjB;AACA,eAAO;AACLC,uBACE,oDAFG;AAGLC,gBAAML;AAHD,SAAP;AAKD,OATU,EAUX;AACEM,oCAA4B;AAD9B,OAVW,CADf;AAeEC,iBAAWT,eACT,WADS,EAET,CAAC,EAAEI,gBAAF,EAAD,KAA0B;AACxBA,yBAAiB,OAAO,EAAEC,YAAY,CAAC,IAAD,CAAd,EAAP,CAAjB;AACA,eAAO;AACLC,uBACE,mDAFG;AAGLC,gBAAML;AAHD,SAAP;AAKD,OATQ,EAUT;AACEM,oCAA4B;AAD9B,OAVS;AAfb,KAFK,EAgCJ,mCAAkCT,KAAKE,IAAK,EAhCxC,CAAP;AAkCD,GAzCH;AA2CD,C","file":"PageInfoStartEndCursor.js","sourcesContent":["// @flow\nimport type { Plugin } from \"graphile-build\";\n\nexport default (function PageInfoStartEndCursor(builder) {\n  builder.hook(\n    \"GraphQLObjectType:fields\",\n    (fields, { extend, getTypeByName }, { Self, fieldWithHooks }) => {\n      if (Self.name !== \"PageInfo\") {\n        return fields;\n      }\n      const Cursor = getTypeByName(\"Cursor\");\n      return extend(\n        fields,\n        {\n          startCursor: fieldWithHooks(\n            \"startCursor\",\n            ({ addDataGenerator }) => {\n              addDataGenerator(() => ({ usesCursor: [true] }));\n              return {\n                description:\n                  \"When paginating backwards, the cursor to continue.\",\n                type: Cursor,\n              };\n            },\n            {\n              isPageInfoStartCursorField: true,\n            }\n          ),\n          endCursor: fieldWithHooks(\n            \"endCursor\",\n            ({ addDataGenerator }) => {\n              addDataGenerator(() => ({ usesCursor: [true] }));\n              return {\n                description:\n                  \"When paginating forwards, the cursor to continue.\",\n                type: Cursor,\n              };\n            },\n            {\n              isPageInfoStartCursorField: true,\n            }\n          ),\n        },\n        `Adding startCursor/endCursor to ${Self.name}`\n      );\n    }\n  );\n}: Plugin);\n"]}